{"ast":null,"code":"var _jsxFileName = \"/Users/macbook/workspace/Goal_Keeper_App/src/components/views/YearInReview.js\",\n    _s = $RefreshSig$();\n\nimport React, { useEffect, useState } from \"react\";\nimport { Link } from \"react-router-dom\";\nimport { getMilestones, ListOfGoals } from \"../ApiManager\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nexport const YearInReview = () => {\n  _s();\n\n  const [goals, setGoalList] = useState([]);\n  const [milestones, setMilestone] = useState([]);\n\n  const getFilteredGoals = () => {\n    ListOfGoals().then(data => {\n      setGoalList(data.filter(item => {\n        return item.userId === parseInt(localStorage.getItem(\"goal_keeper\"));\n      }));\n    });\n  };\n\n  useEffect(() => {\n    getFilteredGoals();\n  }, []);\n\n  const getFilteredMilestones = () => {\n    getMilestones().then(data => {\n      setMilestone(data.filter(item => {\n        var _item$goal;\n\n        return item.goalId === ((_item$goal = item.goal) === null || _item$goal === void 0 ? void 0 : _item$goal.id);\n      }));\n    });\n  };\n\n  useEffect(() => {\n    getFilteredMilestones();\n  }, []);\n\n  const deleteGoal = id => {\n    fetch(`http://localhost:8088/goals/${id}`, {\n      method: \"DELETE\"\n    }).then(() => {\n      getFilteredGoals();\n    });\n  };\n\n  const deleteMilestone = id => {\n    fetch(`http://localhost:8088/milestones/${id}`, {\n      method: \"DELETE\"\n    });\n  };\n\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: goals.map(goalObj => {\n      var _goalObj$category, _goalObj$category2, _goalObj$priority, _goalObj$term;\n\n      return /*#__PURE__*/_jsxDEV(_Fragment, {\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(Link, {\n            to: `/goals/${goalObj.id}`,\n            children: goalObj.goalDescription\n          }, \"goalObj.id\", false, {\n            fileName: _jsxFileName,\n            lineNumber: 59,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: () => deleteGoal(goalObj.id),\n            children: \"DELETE\"\n          }, goalObj.id, false, {\n            fileName: _jsxFileName,\n            lineNumber: 62,\n            columnNumber: 15\n          }, this)]\n        }, \"key1\", true, {\n          fileName: _jsxFileName,\n          lineNumber: 58,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"drop-btn\",\n          style: {\n            background: `${(_goalObj$category = goalObj.category) === null || _goalObj$category === void 0 ? void 0 : _goalObj$category.color}`\n          },\n          children: (_goalObj$category2 = goalObj.category) === null || _goalObj$category2 === void 0 ? void 0 : _goalObj$category2.category\n        }, \"\", false, {\n          fileName: _jsxFileName,\n          lineNumber: 67,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"drop-btn\",\n          children: (_goalObj$priority = goalObj.priority) === null || _goalObj$priority === void 0 ? void 0 : _goalObj$priority.priority\n        }, \"\", false, {\n          fileName: _jsxFileName,\n          lineNumber: 76,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"drop-btn\",\n          children: (_goalObj$term = goalObj.term) === null || _goalObj$term === void 0 ? void 0 : _goalObj$term.term\n        }, \"\", false, {\n          fileName: _jsxFileName,\n          lineNumber: 78,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true);\n    })\n  }, void 0, false);\n};\n\n_s(YearInReview, \"Qbl1kqTi2+vpFLCakjFMTzevvI8=\");\n\n_c = YearInReview;\n\nvar _c;\n\n$RefreshReg$(_c, \"YearInReview\");","map":{"version":3,"names":["React","useEffect","useState","Link","getMilestones","ListOfGoals","YearInReview","goals","setGoalList","milestones","setMilestone","getFilteredGoals","then","data","filter","item","userId","parseInt","localStorage","getItem","getFilteredMilestones","goalId","goal","id","deleteGoal","fetch","method","deleteMilestone","map","goalObj","goalDescription","background","category","color","priority","term"],"sources":["/Users/macbook/workspace/Goal_Keeper_App/src/components/views/YearInReview.js"],"sourcesContent":["import React, { useEffect, useState } from \"react\";\nimport { Link } from \"react-router-dom\";\nimport { getMilestones, ListOfGoals } from \"../ApiManager\";\n\nexport const YearInReview = () => {\n  const [goals, setGoalList] = useState([]);\n  const [milestones, setMilestone] = useState([]);\n\n  const getFilteredGoals = () => {\n    ListOfGoals()\n    .then((data) => {\n      setGoalList(\n        data.filter((item) => {\n          return item.userId === parseInt(localStorage.getItem(\"goal_keeper\"));\n        })\n      );\n    });\n  };\n\n  useEffect(() => {\n    getFilteredGoals();\n  },[]);\n\n  const getFilteredMilestones = () => {\n    getMilestones()\n    .then((data) => {\n      setMilestone(\n        data.filter((item) => {\n          return item.goalId === item.goal?.id\n        })\n      )\n    })\n  }\n\n  useEffect(() => {\n    getFilteredMilestones();\n  },[])\n\n  const deleteGoal = (id) => {\n    fetch(`http://localhost:8088/goals/${id}`, {\n      method: \"DELETE\",\n    }).then(() => {\n      getFilteredGoals();\n    });\n  };\n\n  const deleteMilestone = (id) => {\n    fetch(`http://localhost:8088/milestones/${id}`, {\n      method: \"DELETE\",\n    });\n  };\n\n  return (\n    <>\n      {goals.map((goalObj) => {\n        return (\n          <>\n            <div key={\"key1\"}>\n              <Link key={\"goalObj.id\"} to={`/goals/${goalObj.id}`}>\n                {goalObj.goalDescription}\n              </Link>\n              <button key={goalObj.id} onClick={() => deleteGoal(goalObj.id)}>\n                DELETE\n              </button>\n            </div>\n            {\n                <button\n                  key={\"\"}\n                  className=\"drop-btn\"\n                  style={{ background: `${goalObj.category?.color}` }}\n                >\n                  {goalObj.category?.category}\n                </button>\n            }\n\n            <button key={\"\"} className=\"drop-btn\">{goalObj.priority?.priority}</button>\n\n            <button key={\"\"} className=\"drop-btn\">{goalObj.term?.term}</button>\n          </>\n        );\n      })}\n    </>\n  );\n};\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}